<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>dbuser on vUptime.io - Cloud builder(s)</title><link>https://vuptime.io/tags/dbuser/</link><description>Recent content in dbuser on vUptime.io - Cloud builder(s)</description><generator>Hugo -- gohugo.io</generator><copyright>Ludovic Rivallain and blog co-authors</copyright><lastBuildDate>Fri, 18 Jul 2014 00:00:00 +0000</lastBuildDate><atom:link href="https://vuptime.io/tags/dbuser/feed.xml" rel="self" type="application/rss+xml"/><item><title>vCenter - changer le mot de passe de base de données</title><link>https://vuptime.io/post/2014-07-18-vcenter-changer-le-mot-de-passe-de-base-de-donnees/</link><pubDate>Fri, 18 Jul 2014 00:00:00 +0000</pubDate><guid>https://vuptime.io/2014/07/18/vcenter-changer-le-mot-de-passe-de-base-de-donnees/</guid><description>
&lt;p>Un petit article plus, pour me rappeler moi même de la manipulation que pour vraiment générer du contenu sur ce blog. Ce matin j'ai eu à changer, sur un vCenter Server, le mot de passe par lequel le service communique avec sa base de données, voici la manipulation.&lt;/p>
&lt;h2 id="changer-lutilisateur-de-bdd">Changer l'utilisateur de BDD&lt;/h2>
&lt;p>&lt;em>(si nécessaire)&lt;/em>&lt;/p>
&lt;p>Pour celà, il faut ouvrir l'éditeur de registre Windows: &lt;code>regedit.exe&lt;/code>&lt;/p>
&lt;p>Puis chercher le chemin: &lt;code>HKEY_LOCAL_MACHINE\SOFTWARE\VMware, Inc.\VMware VirtualCenter\DB&lt;/code>&lt;/p>
&lt;p>Dans ce dossier du registre, sont stockées les informations relatives à la connexion à la base de données du service vCenter.&lt;/p>
&lt;figure>&lt;img src="https://vuptime.io/images/vCenter_changeDBsettings_user.png"/>&lt;figcaption>
&lt;h4>Changement de l&amp;#39;utilisateur de bdd pour le service vCenter&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>Il suffit de mettre à jour la valeur nommée &amp;quot;2&amp;quot; avec votre éventuel nouvel utilisateur de base de données (et de relancer votre service après avoir mis à jour le mot de passe).&lt;/p>
&lt;h2 id="changer-le-mot-de-passe-daccès-à-la-bdd">Changer le mot de passe d'accès à la BDD&lt;/h2>
&lt;p>Si vous regardez la suite des clés de registre à l'emplacement de l'étape du dessus, vous remarquerez que l'entrée 3 stocke le mot de passe, haché, pour cet utilisateur (un truc genre: &lt;code>*P8Juhn9L7f3pFZsYcCYvZ....&lt;/code>). Pour le mettre à jour il ne suffit donc pas de modifier à la main cette valeur par votre nouveau mot de passe.&lt;/p>
&lt;p>Heureusement il y a un outil qui va vous aider à le faire: vpxd.exe&lt;/p>
&lt;p>Il faut se placer dans le dossier dans lequel vCenter Server est installé et lancer la commande avec l'argument &amp;quot;-p&amp;quot;:&lt;/p>
&lt;pre>&lt;code>C:&amp;gt; cd C:\Program Files\VMware\Infrastructure\VirtualCenter Server\
C:\Program Files\VMware\Infrastructure\VirtualCenter Server&amp;gt; vpxd.exe -p
------ In-memory logs start --------
2014-07-18T11:46:22.991+02:00 [05588 info 'Hooks'] Hooks Initialized
------ In-memory logs end --------
2014-07-18T11:46:23.209+02:00 [05588 info 'Default'] Initialized channel manager
2014-07-18T11:46:23.209+02:00 [05588 info 'Default'] Current working directory:
c:\Program Files\VMware\Infrastructure\VirtualCenter Server
2014-07-18T11:46:23.209+02:00 [05588 info 'Default'] Log path: C:\ProgramData\VM
ware\VMware VirtualCenter\Logs
2014-07-18T11:46:23.209+02:00 [05588 info 'Default'] Initializing SSL
2014-07-18T11:46:23.209+02:00 [05588 info 'Default'] Vmacore::InitSSL: doVersion
Check = true, handshakeTimeoutUs = 120000000
Enter new DB password:
again:
2014-07-18T11:46:40.718+02:00 [05588 info 'Default'] Reset DB password succeeded
.
C:\Program Files\VMware\Infrastructure\VirtualCenter Server&amp;gt;
&lt;/code>&lt;/pre>
&lt;p>Ensuite il faut relancer le service vCenter Server à l'aide du gestionnaire de services et le tour est joué.&lt;/p></description></item></channel></rss>